# C. 订单流程 (Order Process) 测试用例

| 模块 | 功能点 | 测试用例描述 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **购物车** | 添加商品到购物车 | 用户将一个商品加入购物车 | 用户已登录，商品`P001`库存充足 | 1. 在商品`P001`详情页选择规格和数量。<br>2. 点击"加入购物车"。 | 1. 提示"添加成功"。<br>2. 购物车页面或图标显示新增的商品及正确的数量和价格。 | 待执行 | 待执行 |
| **购物车** | 从购物车移除商品 | 用户将一个商品从购物车移除 | 用户的购物车中已有商品`P001` | 1. 进入购物车页面。<br>2. 找到商品`P001`，点击"删除"。<br>3. 确认删除。 | 购物车中不再显示商品`P001`，总金额更新。 | 待执行 | 待执行 |
| **创建订单** | 从购物车创建订单 | 用户从购物车选择商品进行下单 | 用户已登录，购物车中有商品，库存充足 | 1. 在购物车页面勾选要购买的商品。<br>2. 点击"去结算"。<br>3. 选择收货地址和支付方式。<br>4. 提交订单。 | 1. 订单创建成功，跳转到支付页面。<br>2. 数据库生成新的订单记录，状态为"待支付"。<br>3. 购物车中对应的商品被清空。 | 待执行 | 待执行 |
| **创建订单** | 库存不足下单失败 | 用户下单时，商品库存不足 | 商品`P002`的库存为1，但用户尝试购买2件 | 1. 将2件`P002`加入购物车并尝试下单。 | 提示"商品库存不足"，订单创建失败。 | 待执行 | 待执行 |
| **订单支付** | 模拟支付成功 | 用户完成订单支付 | 用户有一个"待支付"状态的订单`O001` | 1. 进入订单`O001`的支付页面。<br>2. 选择支付方式并点击"确认支付"（模拟）。 | 1. 支付成功。<br>2. 订单`O001`状态更新为"待发货"。<br>3. 触发通知，告知用户支付成功。 | 待执行 | 待执行 |
| **订单管理** | 用户取消订单 | 用户在支付前取消订单 | 用户有一个"待支付"状态的订单`O002` | 1. 进入"我的订单"列表。<br>2. 找到订单`O002`，点击"取消订单"。<br>3. 确认取消。 | 1. 订单`O002`状态更新为"已取消"。<br>2. 如果下单时预扣了库存，库存应被释放。 | 待执行 | 待执行 |
| **订单管理** | 查看订单详情 | 用户查看一个已完成订单的详情 | 用户有一个"已完成"状态的订单`O003` | 1. 进入"我的订单"列表。<br>2. 点击订单`O003`查看详情。 | 页面正确显示订单的商品信息、收货人信息、支付金额、物流信息等。 | 待执行 | 待执行 |
| **后台管理** | 商家发货 | 管理员在后台对订单进行发货 | 订单`O004`状态为"待发货" | 1. 访问后台订单管理。<br>2. 找到订单`O004`，点击"发货"。<br>3. 填写物流公司和单号。<br>4. 确认发货。 | 1. 订单`O004`状态更新为"待收货"。<br>2. 系统向用户发送发货通知。 | 待执行 | 待执行 |

</rewritten_file> 
@startuml
title "活动图 - 购物车与结算流程"

|用户|
start
:在商品详情页点击"添加到购物车";

|系统|
:将商品添加到购物车(Redis);

|用户|
:进入购物车页面;
:查看商品列表;
:修改商品数量或移除商品;
:勾选需要结算的商品;
:点击"去结算";

|系统|
if (用户是否已登录?) then (是)
  |用户|
  :跳转到订单确认页面;
  note right: 流程转到《订单创建流程》
  stop
else (否)
  |用户|
  :跳转到登录页面;
  :完成登录/注册;
  :重定向回订单确认页面;
   note right: 流程转到《订单创建流程》
  stop
endif

@enduml 